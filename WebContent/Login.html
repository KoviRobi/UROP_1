<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>Test login page</title>
    <script type="text/javascript" src="webjars/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript">
        function UserAction(name, pass, action)
        { // TODO: ^^^^^^^^ Proper API calls
            jQuery.ajax(
                { async:    true
                , url:      "rest/Users/" + action
                , type:     "POST"
                , dataType: "JSON"
                , data:     { username: name, password: pass }
                , success:  function (data)
                            {
                                if (data.error != undefined)
                                {
                                    alert ("Error happened!\n" + data.error);
                                    return;
                                }
                                alert(data.authenticationCookie);
                            }
            });
            return true;
        }
    </script>
  </head>
  <body>

    <!-- Login form -->
    <form action="rest/Login" method="POST" onSubmit='authenticate($("username").value, $("password").value)' >
        <label for="username">Username:</label> <input type="text" name="username" id="username"/> <br/>
        <label for="password">Password:</label> <input type="password" name="password" id="password"/>
        <input type="button" onClick='UserAction($("#username").val(), $("#password").val(), "Login")' value="Send">
        <input type="button" onClick='UserAction($("#username").val(), $("#password").val(), "Add")' value="Create new user">
        <input type="button" onClick='UserAction($("#username").val(), $("#password").val(), "Remove")' value="Remove username">
    </form>
    <noscript>
        You need JavaScript enabled, sorry.
    </noscript>

  </body>
</html>
